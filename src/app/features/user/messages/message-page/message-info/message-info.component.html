@if (selectedConversation) { 
  <!-- Avatar + Name -->
  <div class="flex flex-col items-center p-6">
    @if (selectedConversation.type === 'DIRECT') {
      <app-avatar
        [avatarUrl]="getOtherMember(selectedConversation)?.user?.profile?.avatarUrl"
        [height]="80"
        [width]="80"
      ></app-avatar>
    }
    <div class="mt-3 font-medium text-lg">
      {{ getOtherMember(selectedConversation)?.user?.profile?.fullName }}
    </div>
    <div class="text-sm text-gray-500">Đang hoạt động</div>
  </div>

  <!-- Actions -->
  <div class="px-6 space-y-4">
    <button
      class="w-full flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-gray-100"
      routerLink="/user/profile/{{ getOtherMember(selectedConversation)?.user?.profile?.username }}"
    >
      <i class="fa-solid fa-user text-gray-500"></i>
      <span>Trang cá nhân</span>
    </button>

    <button
      class="w-full flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-gray-100"
    >
      <i class="fa-solid fa-bell text-gray-500"></i>
      <span>Tắt thông báo</span>
    </button>

    <button
      class="w-full flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-gray-100"
    >
      <i class="fa-solid fa-magnifying-glass text-gray-500"></i>
      <span>Tìm kiếm trong đoạn chat</span>
    </button>

    <button
      class="w-full flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-gray-100"
    >
      <i class="fa-solid fa-image text-gray-500"></i>
      <span>Ảnh & File phương tiện</span>
    </button>
  </div>

  <!-- Thành viên nhóm (nếu là group) -->
  @if (selectedConversation.type === 'GROUP') {
    <div class="mt-6 px-6">
      <div class="font-semibold text-gray-600 mb-2">Thành viên</div>
      <div class="space-y-2 max-h-40 overflow-y-auto">
        <div
          class="flex items-center gap-3"
          *ngFor="let member of selectedConversation?.members"
        >
          <app-avatar
            [avatarUrl]="member.user?.profile?.avatarUrl"
            [customClass]="'w-8 h-8'"
          ></app-avatar>

          <span>{{ member.user?.profile?.fullName }}</span>
        </div>
      </div>
    </div>
    <!-- Danger zone -->
    <div class="mt-auto px-6 py-4">
      <button
        class="w-full text-red-500 hover:bg-red-50 px-4 py-2 rounded-lg text-left"
      >
        Rời khỏi nhóm
      </button>
    </div>
  }
}