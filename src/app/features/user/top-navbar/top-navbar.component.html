<div class="pt-14">
  <header class="w-full h-14 fixed top-0 right-0 left-0 bg-white shadow-sm border-b px-6 py-3 
                flex items-center justify-between">
    <!-- Logo -->
    <h1 class="text-xl font-bold text-blue-600">Facebook</h1>

    <!-- Menu -->
    <nav class="flex items-center text-2xl gap-6">
      <a 
        routerLink="/user/posts" 
        routerLinkActive #rlaPosts="routerLinkActive"
        class="py-3 px-10"
        [ngClass]="rlaPosts.isActive ? 'text-blue-600 border-b-4 border-blue-600 font-semibold' : 'text-gray-400'">
        <i class="fa-regular fa-house"></i>
      </a>
      <a 
        routerLink="/user/messages" 
        routerLinkActive #rlaMsg="routerLinkActive"
        class="py-3 px-10"
        [ngClass]="rlaMsg.isActive ? 'text-blue-600 border-b-4 border-blue-600 font-semibold' : 'text-gray-400'">
        <i class="fa-regular fa-message"></i>
      </a>
    </nav>

    <!-- Actions (Notifications + Avatar) -->
    <div class="flex z-[9999] items-center gap-4 relative">
      <!-- Notifications -->
      <div>
        <button
          (click)="toggleNoti()"
          class="text-gray-600 hover:text-blue-600 relative"
        >
          <i class="fa-regular fa-bell text-2xl"></i>
          <!-- badge -->
          <span
            *ngIf="unseenCount > 0"
            class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-1.5"
            >{{ unseenCount }}</span
          >
        </button>

        <!-- Dropdown notifications -->
        <div
          *ngIf="showNoti"
          class="absolute right-0 top-10 mt-2 w-[380px] bg-white shadow-lg rounded-lg border p-3"
        >
          <app-notification 
            [notifications]="notifications"
            (showNoti)="showNoti = $event"
          ></app-notification>
        </div>
      </div>

      <!-- Avatar -->
      <div>
        <button (click)="toggleUserMenu()" class="flex items-center">
          <app-avatar
            [avatarUrl]="currentUser?.profile?.avatarUrl"
            [customClass]="'w-9 h-9 rounded-full border'"
          ></app-avatar>
        </button>

        <!-- Dropdown user menu -->
        <div
          *ngIf="showUserMenu"
          class="absolute right-0 top-12 w-80 bg-white shadow-lg rounded-lg border p-2"
        >
          <button
            (click)="logout()"
            class="w-full text-left px-4 py-2 text-black hover:bg-gray-100 rounded"
          >
            <i class="fa-solid fa-right-from-bracket mr-2"></i> Đăng xuất
          </button>
        </div>
      </div>
    </div>
  </header>

</div>